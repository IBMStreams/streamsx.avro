<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Operator AvroToJSON"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_operator"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>Operator AvroToJSON</title>
</head>
<body id="spldoc_operator">


<h1 class="title topictitle1">Operator <tt class="ph tt">AvroToJSON</tt></h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">IBMStreams streamsx.avro Toolkit</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.avro.html">com.ibm.streamsx.avro 1.5.0</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.avro.html">com.ibm.streamsx.avro</a> &gt; AvroToJSON</p>

</div>

<div class="section splprimop">
  <embed class="image" src="../../image/tk$com.ibm.streamsx.avro/op$com.ibm.streamsx.avro$AvroToJSON.svg" width="872" height="112"/>
</div>

<div class="section">

<div class="p">This operator converts binary Avro messages and optionally message keys into a JSON string. The operator has two operation modes::
<ul class="ul">
<li class="li"> Avro Schema Embedded: The operator processes a blob which contains one or more Avro messages and has the schema embedded. This is the pattern when Avro objects are read from a file (either local file system or HDFS). Every Avro object in the blob is converted to JSON and then submitted to the output port. This operation mode is entered if both parameters <tt class="ph tt">avroMessageSchemaFile</tt> and <tt class="ph tt">avroKeySchemaFile</tt> are not existing or have an empty value.</li>

<li class="li"> No Avro Schema Embedded: The operator processes an Avro Blob containing a single message and with no embedded schema. This is the pattern when Avro objects are passed over messaging infrastructure such as Apache Kafka. This operation mode is entered if one or both parameters <tt class="ph tt">avroMessageSchemaFile</tt> and <tt class="ph tt">avroKeySchemaFile</tt> are specified.</li>

</ul>
If an input or output message or key attribute is not found or has an incompatible type, the operator will fail. This operator must not be used inside a consistent region.
</div>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Summary</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Ports</dt>

  <dd class="dd">This operator has 1 input port and 1 output port.</dd>

 
 
  <dt class="dt dlterm">Windowing</dt>

  <dd class="dd">This operator does not accept any windowing configurations.</dd>

 
 
  <dt class="dt dlterm">Parameters</dt>

  <dd class="dd">This operator supports 6 parameters.
<p class="p"> Optional: 
<a class="xref" href="#spldoc_operator__parameter__avroKeySchemaFile">avroKeySchemaFile</a>, <a class="xref" href="#spldoc_operator__parameter__avroMessageSchemaFile">avroMessageSchemaFile</a>, <a class="xref" href="#spldoc_operator__parameter__inputAvroKey">inputAvroKey</a>, <a class="xref" href="#spldoc_operator__parameter__inputAvroMessage">inputAvroMessage</a>, <a class="xref" href="#spldoc_operator__parameter__outputJsonKey">outputJsonKey</a>, <a class="xref" href="#spldoc_operator__parameter__outputJsonMessage">outputJsonMessage</a>

</p>
</dd>

 
 
  <dt class="dt dlterm">Metrics</dt>

  <dd class="dd">This operator does not report any metrics.</dd>

 
</dl>
</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Properties</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Implementation</dt>

  <dd class="dd">Java</dd>

 
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set">Input Ports</a></strong></p>
<dl class="dl">
  
   <dt class="dt dlterm">Ports (0)</dt>

   <dd class="dd">

<p class="p">Port that receives the Apache Avro data blocks. Window punctuation markers are passed to the output port.
</p>
   </dd>

  
    
      <dt class="dt dlterm">Properties</dt>

      <dd class="dd">
   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__optional">Optional</a>: false
     </li>

   </ul>

   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__controlport">ControlPort</a>: false
</li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__windowingmode">WindowingMode</a>: NonWindowed
</li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__windowpunctuationinputmode">WindowPunctuationInputMode</a>: Oblivious
</li>

   </ul>

      </dd>

    
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set">Output Ports</a></strong></p>
<dl class="dl">
  
     <dt class="dt dlterm">Assignments</dt>

       <dd class="dd">Java operators do not support output assignments.
       </dd>

  
</dl>

<dl class="dl">
  
   <dt class="dt dlterm">Ports (0)</dt>

   <dd class="dd">

<p class="p">Port that produces tuples with the JSON message string and optionally with the JSON key string. Window punctuation markers are forwarded from the input port.
</p>

<p class="p"/>

   <dl class="dl">
    
      <dt class="dt dlterm">Properties</dt>

      <dd class="dd">
   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set__optional">Optional</a>: false
     </li>

   </ul>

   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set__windowpunctuationoutputmode">WindowPunctuationOutputMode</a>: Generating
     </li>

   </ul>

      </dd>

    
   </dl>

   <p class="p"/>

   </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters">Parameters</a></strong></p>
This operator supports 6 parameters.
<p class="p"> Optional: 
<a class="xref" href="#spldoc_operator__parameter__avroKeySchemaFile">avroKeySchemaFile</a>, <a class="xref" href="#spldoc_operator__parameter__avroMessageSchemaFile">avroMessageSchemaFile</a>, <a class="xref" href="#spldoc_operator__parameter__inputAvroKey">inputAvroKey</a>, <a class="xref" href="#spldoc_operator__parameter__inputAvroMessage">inputAvroMessage</a>, <a class="xref" href="#spldoc_operator__parameter__outputJsonKey">outputJsonKey</a>, <a class="xref" href="#spldoc_operator__parameter__outputJsonMessage">outputJsonMessage</a>

</p>
<dl class="dl">

<dt class="dt dlterm"><a name="spldoc_operator__parameter__avroKeySchemaFile"><!-- --></a><tt class="ph tt">avroKeySchemaFile</tt></dt>

<dd class="dd">
<p class="p">File that contains the Avro schema to deserialize the binary Avro key. If this parameter is non empty, the operator works in mode <tt class="ph tt">No Avro Schema Embedded</tt>.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__avroMessageSchemaFile"><!-- --></a><tt class="ph tt">avroMessageSchemaFile</tt></dt>

<dd class="dd">
<p class="p">File that contains the Avro schema to deserialize the binary Avro message. If this parameter is non empty, the operator works in mode <tt class="ph tt">No Avro Schema Embedded</tt>.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__inputAvroKey"><!-- --></a><tt class="ph tt">inputAvroKey</tt></dt>

<dd class="dd">
<p class="p">The input stream attribute which contains the input Avro key blob. This attribute must be of type blob. If not specified, the default attribute is <tt class="ph tt">avroKey</tt>.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__inputAvroMessage"><!-- --></a><tt class="ph tt">inputAvroMessage</tt></dt>

<dd class="dd">
<p class="p">The input stream attribute which contains the input Avro message blob. This attribute must be of type blob. Default is the sole output attribute when the schema has one attribute otherwise <tt class="ph tt">avroMessage</tt>.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__outputJsonKey"><!-- --></a><tt class="ph tt">outputJsonKey</tt></dt>

<dd class="dd">
<p class="p">The output stream attribute which contains the output JSON key string. This attribute must be of <tt class="ph tt">rstring</tt> or <tt class="ph tt">ustring</tt> type. If not specified, the default attribute is <tt class="ph tt">jsonKey</tt>.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>



<dt class="dt dlterm"><a name="spldoc_operator__parameter__outputJsonMessage"><!-- --></a><tt class="ph tt">outputJsonMessage</tt></dt>

<dd class="dd">
<p class="p">The output stream attribute which contains the output JSON message string. This attribute must be of <tt class="ph tt">rstring</tt> or <tt class="ph tt">ustring</tt> type. Default is the sole output attribute when the schema has one attribute otherwise <tt class="ph tt">jsonMessage</tt>.
</p>
<dl class="dl">

 <dt class="dt dlterm">Properties </dt>

 <dd class="dd">
  <ul class="sl simple">
  <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
  </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

  </ul>

 </dd>


</dl>

</dd>


</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies">Libraries</a></strong></p>

 <dl class="dl">
 
  <dt class="dt dlterm">Operator class library
  </dt>

  <dd class="dd"/>

  <dd class="dd"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies__managedlibrary__libpath">Library Path</a>: <tt class="ph tt">../../impl/lib/com.ibm.streamsx.avro.jar, ../../opt/downloaded/*</tt></dd>

 
 </dl>

</div>

</div>


</body>
</html>